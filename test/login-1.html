<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>

    <style>
      .login-wrapper {
        display: none;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        border: 1px solid black;
        border-radius: 20px;
        padding: 30px;
      }

      .close {
        position: absolute;
        top: 20px;
        right: 25px;
        background-color: violet;
        width: 40px;
        height: 40px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: 1s ease;
      }

      .close:hover {
        background-color: darkgrey;
        transition: 1s ease;
      }

      .login-bnt {
        width: 75px;
        height: 75px;
        border-radius: 50%;
        position: absolute;
        left: 20px;
        top: 20px;
        background-color: aquamarine;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: 1s ease;
      }

      .login-bnt:hover {
        background-color: coral;
        transition: 1s ease;
      }

      #message {
        margin-top: 300px;
      }
    </style>
  </head>
  <body>
    <div class="login-bnt">Login</div>

    <div class="login-wrapper">
      <h1>Login</h1>
      <label for="username">Username:</label>
      <input type="text" id="username" /><br /><br />
      <label for="password">Password:</label>
      <input type="text" id="password" /><br /><br />
      <button class="btn">Login</button>
      <div class="close">X</div>
    </div>
    <p id="message"></p>

    <script>
      let loginWindow = document.querySelector(".login-wrapper");

      function createCard() {
        let authorizationBtn = document.querySelector(".login-bnt");
        authorizationBtn.addEventListener("click", () => {
          loginWindow.style.display = "block";
        });

        let closeBtn = document.querySelector(".close");
        closeBtn.addEventListener("click", () => {
          loginWindow.style.display = "none";
        });

        let btnLogin = document.querySelector(".btn");
        btnLogin.addEventListener("click", () => {
          login();
        });

        const users = [
          {
            username: "admin",
            password: "admin123",
            role: "admin",
          },
          {
            username: "user1",
            password: "user1",
            role: "user",
          },
          {
            username: "user2",
            password: "user12",
            role: "user",
          },
          {
            username: "user3",
            password: "user123",
            role: "user",
          },
          {
            username: "user4",
            password: "user1234",
            role: "user",
          },
        ];

        function login() {
          let userNameInput = document.getElementById("username");
          let userPasswordInput = document.getElementById("password");
          let textMessage = document.getElementById("message");

          let role = validateCredentials(
            userNameInput.value,
            userPasswordInput.value
          );

          if (role === "admin") {
            textMessage.innerHTML = `Welcome Administrator`;
            loginWindow.style.display = "none";
          } else if (role === "user") {
            textMessage.innerHTML = `Welcome user`;
            loginWindow.style.display = "none";
          } else {
            textMessage.innerHTML = `Let's Sign Up`;
          }

          userNameInput.value = "";
          userPasswordInput.value = "";
        }

        function validateCredentials(username, password) {
          for (let i = 0; i < users.length; i++) {
            if (
              users[i].username === username &&
              users[i].password === password
            ) {
              return users[i].role;
            }
          }
          return "invalid";
        }
      }

      createCard()
    </script>
  </body>
</html>
